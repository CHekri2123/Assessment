{"ast":null,"code":"import _regeneratorRuntime from \"/home/kalyan/Documents/WebApplicationBackend/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/kalyan/Documents/WebApplicationBackend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport axios from 'axios';\nvar instanceOfItem;\nvar instanceOfItem1;\nexport default {\n  name: \"CustomerCrud\",\n  data: function data() {\n    return {\n      id: '',\n      customer_name: '',\n      branch_name: '',\n      customerTable: [],\n      valid: '',\n      dialog: false,\n      flag: false,\n      boolValue: true,\n      updateButton: true,\n      submitButton: true\n    };\n  },\n  mounted: function mounted() {\n    this.read();\n  },\n  methods: {\n    read: function read() {\n      var _this = this;\n\n      axios.get(process.env.VUE_APP_GET_LINK).then(function (response) {\n        _this.customerTable = response.data;\n      });\n    },\n    submit: function submit() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var sub;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.post(process.env.VUE_APP_POST_LINK, {\n                  id: _this2.id,\n                  customer_name: _this2.customer_name,\n                  branch_name: _this2.branch_name\n                });\n\n              case 2:\n                sub = _context.sent;\n                console.log('Printing submitted details when submit button pressed');\n                console.log(sub);\n\n                _this2.read();\n\n                _this2.dialog = false;\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    press: function press() {\n      this.boolValue = true;\n    },\n    update: function update(row) {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                instanceOfItem = row;\n                console.log(instanceOfItem);\n                console.log('Pencil button clicked');\n                _this3.id = row.id;\n                _this3.customer_name = row.customer_name;\n                _this3.branch_name = row.branch_name;\n                _this3.boolValue = false;\n                _this3.dialog = true;\n                _this3.submitButton = false;\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    edit: function edit() {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                console.log(\"update button clicked\");\n                console.log(instanceOfItem);\n                instanceOfItem.id = _this4.id;\n                instanceOfItem.customer_name = _this4.customer_name;\n                instanceOfItem.branch_name = _this4.branch_name;\n                _context3.next = 7;\n                return axios.put(\"\".concat(process.env.VUE_APP_PUT_LINK, \"/\").concat(instanceOfItem.id), {\n                  customer_name: _this4.customer_name,\n                  branch_name: _this4.branch_name\n                });\n\n              case 7:\n                _this4.$refs.form.reset();\n\n                _this4.read();\n\n                _this4.dialog = false;\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    },\n    deleteData: function deleteData(id) {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return axios[\"delete\"](\"\".concat(process.env.VUE_APP_DELETE_LINK, \"/\").concat(id));\n\n              case 2:\n                _this5.read();\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }))();\n    },\n    serachEmpDataReciever: function serachEmpDataReciever(input) {\n      var _this6 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var searchPromise;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return API.post('http://127.0.0.1:3333/searchCustomerData', {\n                  term: input\n                });\n\n              case 2:\n                searchPromise = _context5.sent;\n                _this6.table = searchpromise.data;\n                console.log(value);\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;AAwEA;AACA;AACA;AACA;EACAA,oBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,MADA;MAEAC,iBAFA;MAGAC,eAHA;MAIAC,iBAJA;MAKAC,SALA;MAMAC,aANA;MAOAC,WAPA;MAQAC,eARA;MASAC,kBATA;MAUAC;IAVA;EAYA,CAfA;EAkBAC,OAlBA,qBAkBA;IACA;EACA,CApBA;EAuBAC;IAEAC,IAFA,kBAEA;MAAA;;MACAC;QACA;MACA,CAFA;IAGA,CANA;IAQAC,MARA,oBAQA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAD;kBACAb,aADA;kBAEAC,mCAFA;kBAGAC;gBAHA,EADA;;cAAA;gBACAa,GADA;gBAMAC;gBACAA;;gBACA;;gBACA;;cATA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAUA,CAlBA;IAoBAC,KApBA,mBAoBA;MACA;IACA,CAtBA;IAwBAC,MAxBA,kBAwBAC,GAxBA,EAwBA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;gBACAJ;gBACAA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;;cATA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAWA,CAnCA;IAqCAK,IArCA,kBAqCA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBACAL;gBACAA;gBACAI;gBACAA;gBACAA;gBALA;gBAAA,OAMAP;kBACAZ,mCADA;kBAEAC;gBAFA,EANA;;cAAA;gBAUA;;gBACA;;gBACA;;cAZA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAaA,CAlDA;IAqDAoB,UArDA,sBAqDAtB,EArDA,EAqDA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAa,2EADA;;cAAA;gBAEA;;cAFA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA,CAxDA;IA0DAU,qBA1DA,iCA0DAC,KA1DA,EA0DA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC;kBAAAC;gBAAA,EADA;;cAAA;gBACAC,aADA;gBAEA;gBACAX;;cAHA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAIA;EA9DA;AAvBA","names":["name","data","id","customer_name","branch_name","customerTable","valid","dialog","flag","boolValue","updateButton","submitButton","mounted","methods","read","axios","submit","sub","console","press","update","row","instanceOfItem","edit","deleteData","serachEmpDataReciever","input","API","term","searchPromise"],"sourceRoot":"src/components","sources":["Customer.vue"],"sourcesContent":["<template>\n  <v-container>\n    <SearchComponent @empDataSender=\"serachEmpDataReciever($event)\" />\n    <template>\n      <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n        <v-dialog v-model=\"dialog\" max-width=\"600px\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn class=\"mb-2\" small @click=\"press()\" v-bind=\"attrs\" v-on=\"on\" fab color=\"indigo\">\n              <v-icon small>mdi-plus</v-icon>\n            </v-btn>\n          </template>\n          <v-card>\n            <v-card-title>\n              <span class=\"text-h5\">Customer Data</span>\n            </v-card-title>\n            <v-card-text>\n              <v-row>\n                <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                  <v-text-field v-model=\"id\" outlined label=\"Enter your Id\" required>\n                  </v-text-field>\n                </v-col>\n                <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                  <v-text-field v-model=\"customer_name\" outlined label=\"Enter Customer Name\" required>\n                  </v-text-field>\n                </v-col>\n                <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                  <v-text-field v-model=\"branch_name\" outlined label=\"Enter Branch Name\" required>\n                  </v-text-field>\n                </v-col>\n              </v-row>\n              <v-btn color=\"success\" v-model=\"submitButton\" @click=\"submit()\" v-if=\"boolValue\">\n                Submit\n              </v-btn>\n              <v-btn color=\"success\" v-model=\"updateButton\" @click=\"edit()\" v-else>\n                Update\n              </v-btn>\n            </v-card-text>\n          </v-card>\n        </v-dialog>\n      </v-form>\n      <div>\n        <v-simple-table fixed-header>\n          <thead>\n            <tr>\n              <th class=\"text-left\">Id</th>\n              <th class=\"text-left\">Customer Name</th>\n              <th class=\"text-left\">Branch Name</th>\n              <th class=\"text-left\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"row in customerTable\" :key=\"row.id\">\n              <td>{{row.id}}</td>\n              <td>{{row.customer_name}}</td>\n              <td>{{row.branch_name}}</td>\n              <td>\n                <v-btn fab class=\"mb-2\" small color=\"cyan\" dark @click=\"update(row)\">\n                  <v-icon small>mdi-pencil</v-icon>\n                </v-btn>\n                <v-btn fab class=\"mb-2\" @click=\"deleteData(row.id)\" small color=\"pink\">\n                  <v-icon small>mdi-delete</v-icon>\n                </v-btn>\n              </td>\n            </tr>\n          </tbody>\n        </v-simple-table>\n      </div>\n    </template>\n  </v-container>\n</template>\n\n<script>\nimport axios from 'axios';\nvar instanceOfItem;\nvar instanceOfItem1;\nexport default {\n  name: \"CustomerCrud\",\n  data() {\n    return {\n      id: '',\n      customer_name: '',\n      branch_name: '',\n      customerTable: [],\n      valid: '',\n      dialog: false,\n      flag: false,\n      boolValue: true,\n      updateButton: true,\n      submitButton: true,\n    };\n  },\n\n\n  mounted() {\n    this.read()\n  },\n\n\n  methods: {\n\n    read() {\n      axios.get(process.env.VUE_APP_GET_LINK).then(response => {\n        this.customerTable = response.data\n      })\n    },\n\n    async submit() {\n      const sub = await axios.post(process.env.VUE_APP_POST_LINK, {\n        id: this.id,\n        customer_name: this.customer_name,\n        branch_name: this.branch_name\n      });\n      console.log('Printing submitted details when submit button pressed')\n      console.log(sub);\n      this.read();\n      this.dialog = false;\n    },\n\n    press() {\n      this.boolValue = true;\n    },\n\n    async update(row) {\n      instanceOfItem = row\n      console.log(instanceOfItem);\n      console.log('Pencil button clicked')\n      this.id = row.id;\n      this.customer_name = row.customer_name;\n      this.branch_name = row.branch_name;\n      this.boolValue = false;\n      this.dialog = true;\n      this.submitButton = false;\n      \n    },\n\n    async edit() {\n      console.log(\"update button clicked\")\n      console.log(instanceOfItem)\n      instanceOfItem.id = this.id\n      instanceOfItem.customer_name = this.customer_name\n      instanceOfItem.branch_name = this.branch_name\n      await axios.put(`${process.env.VUE_APP_PUT_LINK}/${instanceOfItem.id}`, {\n        customer_name: this.customer_name,\n        branch_name: this.branch_name\n      });\n      this.$refs.form.reset()\n      this.read()\n      this.dialog = false;\n    },\n\n   \n    async deleteData(id) {\n      await axios.delete(`${process.env.VUE_APP_DELETE_LINK}/${id}`);\n      this.read();\n    },\n\n    async serachEmpDataReciever(input) {\n      const searchPromise = await API.post('http://127.0.0.1:3333/searchCustomerData',{term:input})\n      this.table = searchpromise.data\n      console.log(value)\n    },\n  },\n\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}