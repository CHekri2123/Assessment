{"ast":null,"code":"import axios from 'axios';\nvar instanceOfItem;\nexport default {\n  name: \"DepartmentData\",\n\n  data() {\n    return {\n      valid: '',\n      dept_id: '',\n      dept_name: '',\n      search: \"\",\n      dialog: false,\n      deptTable: [],\n      searchdeptTable: \"\",\n      flag: false,\n      boolValue: true,\n      submitButton: true\n    };\n  },\n\n  filters: {\n    truncate: function (name, num) {\n      const reqdString = name.split(\"\").slice(0, num).join(\"\");\n      return reqdString;\n    }\n  },\n\n  mounted() {\n    this.read();\n  },\n\n  methods: {\n    read() {\n      axios.get(`http://127.0.0.1:3333/displayDeptData`).then(response => {\n        // JSON responses are \n        // automatically parsed\n        this.deptTable = response.data;\n        console.log(this.deptTable);\n      });\n    },\n\n    async submit() {\n      const sub = await axios.post(`http://127.0.0.1:3333/insertDeptData`, {\n        dept_name: this.dept_name,\n        dept_id: this.dept_id\n      });\n      console.log(sub);\n      this.read();\n      this.dialog = false;\n    },\n\n    press() {\n      this.boolValue = true;\n    },\n\n    async update(row) {\n      this.boolValue = false;\n      instanceOfItem = row;\n      this.dept_name = row.dept_name;\n      this.dept_id = row.dept_id;\n      this.dialog = true;\n      this.submitButton = false;\n    },\n\n    async edit() {\n      instanceOfItem.dept_name = this.dept_name;\n      instanceOfItem.dept_id = this.dept_id;\n      await axios.put(`http://127.0.0.1:3333/updateData/${instanceOfItem.name}`, {\n        dept_name: instanceOfItem.dept_name,\n        dept_id: instanceOfItem.dept_id\n      });\n    },\n\n    async deleteData(dept_name) {\n      await axios.delete(`http://127.0.0.1:3333/deleteData/${name}`);\n      this.read();\n    },\n\n    serachEmpDataReciever(value) {\n      this.deptTable = value.data;\n      console.log(value);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoEA;AACA;AACA;EACAA,sBADA;;EAEAC;IACA;MACAC,SADA;MAEAC,WAFA;MAGAC,aAHA;MAIAC,UAJA;MAKAC,aALA;MAMAC,aANA;MAOAC,mBAPA;MAQAC,WARA;MASAC,eATA;MAUAC;IAVA;EAYA,CAfA;;EAgBAC;IACAC;MACA;MACA;IACA;EAJA,CAhBA;;EAsBAC;IACA;EACA,CAxBA;;EAyBAC;IACAC;MACAC;QACA;QACA;QACA;QACAC;MACA,CALA;IAMA,CARA;;IASA;MACA;QACAd,yBADA;QAEAD;MAFA;MAIAe;MACA;MACA;IACA,CAjBA;;IAkBAC;MACA;IACA,CApBA;;IAqBA;MACA;MACAC;MACA;MACA;MACA;MACA;IACA,CA5BA;;IA6BA;MACAA;MACAA;MACA;QACAhB,mCADA;QAEAD;MAFA;IAIA,CApCA;;IAqCA;MACA;MACA;IACA,CAxCA;;IAyCAkB;MACA;MACAH;IACA;;EA5CA;AAzBA","names":["name","data","valid","dept_id","dept_name","search","dialog","deptTable","searchdeptTable","flag","boolValue","submitButton","filters","truncate","mounted","methods","read","axios","console","press","instanceOfItem","serachEmpDataReciever"],"sourceRoot":"src/components","sources":["Department.vue"],"sourcesContent":["<template>\n    <v-container>\n      <SearchComponent @empDataSender=\"serachEmpDataReciever($event)\" />\n      <template>\n        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n          <v-dialog v-model=\"dialog\" max-width=\"600px\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn class=\"mb-2\" small @click=\"press()\" v-bind=\"attrs\" v-on=\"on\" fab color=\"indigo\">\n                <v-icon small>mdi-plus</v-icon>\n              </v-btn>\n            </template>\n            <v-card>\n              <v-card-title>\n                <span class=\"text-h5\">Dept Data</span>\n              </v-card-title>\n              <v-card-text>\n                <v-row>\n                  <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                    <v-text-field v-model=\"dept_name\" outlined label=\"Enter your Dept\" required>\n                    </v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                    <v-text-field v-model=\"dept_id\"  outlined label=\"Enter your dept_id\" required>\n                    </v-text-field>\n                  </v-col>\n                </v-row>\n                <v-btn color=\"success\" v-model=\"submitButton\" @click=\"submit()\" v-if=\"boolValue\">\n                  Submit\n                </v-btn>\n                <v-btn color=\"success\" @click=\"edit()\" v-else>\n                  Update\n                </v-btn>\n              </v-card-text>\n            </v-card>\n          </v-dialog>\n        </v-form>\n        <div>\n          <v-simple-table fixed-header>\n            <thead>\n              <tr>\n                <th class=\"text-left\">S.No</th>\n                <th class=\"text-left\">Dept Name</th>\n                <th class=\"text-left\">Dept Id</th>\n                <th class=\"text-left\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"row in deptTable\" :key=\"row.name\">\n                <td>{{row.id}}</td>\n                <td>{{row.dept_name}}</td>\n                <td>{{row.dept_id}}</td>\n                <td>\n                  <v-btn fab class=\"mb-2\" small color=\"cyan\" dark @click=\"update(row)\">\n                    <v-icon small>mdi-pencil</v-icon>\n                  </v-btn>\n                  <v-btn fab class=\"mb-2\" @click=\"deleteData(row.name)\" small color=\"pink\">\n                    <v-icon small>mdi-delete</v-icon>\n                  </v-btn>\n                </td>\n              </tr>\n            </tbody>\n          </v-simple-table>\n        </div>\n      </template>\n    </v-container>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  var instanceOfItem;\n  export default {\n    name: \"DepartmentData\",\n    data() {\n      return {\n        valid: '',\n        dept_id:'',\n        dept_name: '',\n        search: \"\",\n        dialog: false,\n        deptTable: [],\n        searchdeptTable: \"\",\n        flag: false,\n        boolValue: true,\n        submitButton: true,\n      };\n    },\n    filters: {\n      truncate: function (name, num) {\n        const reqdString = name.split(\"\").slice(0, num).join(\"\");\n        return reqdString;\n      }\n    },\n    mounted() {\n     this.read()\n    },\n    methods: {\n      read() {\n        axios.get(`http://127.0.0.1:3333/displayDeptData`).then(response => {\n          // JSON responses are \n          // automatically parsed\n          this.deptTable = response.data;\n          console.log(this.deptTable)\n        });\n      },\n      async submit() {\n        const sub = await axios.post(`http://127.0.0.1:3333/insertDeptData`, {\n          dept_name: this.dept_name,\n          dept_id: this.dept_id\n        });\n        console.log(sub);\n        this.read();\n        this.dialog = false;\n      },\n      press() {\n        this.boolValue = true;\n      },\n      async update(row) {\n        this.boolValue = false;\n        instanceOfItem = row;\n        this.dept_name = row.dept_name;\n        this.dept_id = row.dept_id;\n        this.dialog = true;\n        this.submitButton = false;\n      },\n      async edit() {\n        instanceOfItem.dept_name = this.dept_name;\n        instanceOfItem.dept_id = this.dept_id;\n        await axios.put(`http://127.0.0.1:3333/updateData/${instanceOfItem.name}`, {\n          dept_name: instanceOfItem.dept_name,\n          dept_id: instanceOfItem.dept_id\n        });\n      },\n      async deleteData(dept_name) {\n        await axios.delete(`http://127.0.0.1:3333/deleteData/${name}`);\n        this.read();\n      },\n      serachEmpDataReciever(value) {\n        this.deptTable = value.data\n        console.log(value)\n      },\n    },\n  \n  }\n  </script>\n  "]},"metadata":{},"sourceType":"module"}